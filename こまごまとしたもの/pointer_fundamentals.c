/*
===========================================
  C言語 ポインタの基礎
===========================================

【ポインタとは？】
ポインタは「メモリアドレス（住所）」を格納する変数です。

【基本構文】
int *p;      // int型のポインタ変数pを宣言
int x = 10;  // 普通の変数
p = &x;      // xのアドレスをpに代入（&は「アドレス演算子」）
*p = 20;     // pが指す場所の値を変更（*は「間接参照演算子」）

【重要な演算子】
& : アドレス演算子 - 変数のアドレスを取得
* : 間接参照演算子 - ポインタが指す場所の値にアクセス

【図解】
メモリ:
  アドレス    変数名    値
  0x1000      x        10
  0x2000      p        0x1000  (xのアドレスを保持)

  &x  → 0x1000 (xのアドレス)
  p   → 0x1000 (pの値 = xのアドレス)
  *p  → 10     (pが指す場所の値)

===========================================
*/

#include <stdio.h>

// 例1: ポインタの基本
void example1() {
    printf("\n=== 例1: ポインタの基本 ===\n");
    
    int num = 42;
    int *ptr;  // ポインタ変数の宣言
    
    ptr = &num;  // numのアドレスをptrに代入
    
    printf("numの値: %d\n", num);
    printf("numのアドレス: %p\n", (void*)&num);
    printf("ptrの値（アドレス）: %p\n", (void*)ptr);
    printf("ptrが指す値: %d\n", *ptr);
}

// 例2: ポインタで値を変更
void example2() {
    printf("\n=== 例2: ポインタで値を変更 ===\n");
    
    int x = 10;
    int *p = &x;
    
    printf("変更前: x = %d\n", x);
    
    *p = 99;  // ポインタ経由でxの値を変更
    
    printf("変更後: x = %d\n", x);
}

// 例3: 関数でポインタを使う（値の交換）
void swap(int *a, int *b) {
    int temp = *a;
    *a = *b;
    *b = temp;
}

void example3() {
    printf("\n=== 例3: ポインタで値を交換 ===\n");
    
    int x = 5, y = 10;
    
    printf("交換前: x = %d, y = %d\n", x, y);
    swap(&x, &y);
    printf("交換後: x = %d, y = %d\n", x, y);
}

// 例4: 配列とポインタ
void example4() {
    printf("\n=== 例4: 配列とポインタ ===\n");
    
    int arr[5] = {10, 20, 30, 40, 50};
    int *p = arr;  // 配列名はポインタとして使える
    
    printf("配列の要素:\n");
    for (int i = 0; i < 5; i++) {
        printf("arr[%d] = %d, *(p+%d) = %d\n", i, arr[i], i, *(p+i));
    }
}

int main() {
    printf("╔═══════════════════════════════════╗\n");
    printf("║  C言語 ポインタの基礎学習        ║\n");
    printf("╚═══════════════════════════════════╝\n");
    
    example1();
    example2();
    example3();
    example4();
    
    printf("\n\n次は課題に挑戦してください！\n");
    
    return 0;
}
