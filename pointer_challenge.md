# ポインタ課題：商品在庫管理システム

## 課題の説明
商品の在庫を管理するプログラムを作成してください。
**今回は必ずポインタを使って実装してください。**

## 機能要件

### 1. 商品情報の管理
- 商品名、価格、在庫数を管理する
- 最大10個の商品を登録できる

### 2. 実装する機能
1. **商品の登録**
   - ユーザーから商品情報（商品名、価格、在庫数）を入力
   - 配列に保存

2. **全商品の表示**
   - 登録されているすべての商品を表示
   - 番号、商品名、価格、在庫数を表示

3. **商品の販売（在庫を減らす）**
   - 商品番号と販売個数を入力
   - **ポインタを使って**在庫を減らす
   - 在庫が足りない場合はエラーメッセージ

4. **商品の入荷（在庫を増やす）**
   - 商品番号と入荷個数を入力
   - **ポインタを使って**在庫を増やす

5. **在庫切れ商品の表示**
   - 在庫が0の商品を表示

6. **在庫の合計金額を計算**
   - すべての商品の（価格 × 在庫数）の合計を表示

## 必須条件：ポインタの使用

### 必ずポインタを使う関数
```c
// 在庫を減らす関数（ポインタ必須）
void sellProduct(struct Product *p, int quantity);

// 在庫を増やす関数（ポインタ必須）
void restockProduct(struct Product *p, int quantity);
```

### ポイント
- **(*p).メンバ名** の形式でポインタ経由でアクセス
- 関数で配列の要素を変更するときはポインタを渡す
- アロー演算子（->）は使わない（学校のテストに出ないため）

## 実行例

```
=== 商品在庫管理システム ===

1. 商品を登録
2. 全商品を表示
3. 商品を販売（在庫を減らす）
4. 商品を入荷（在庫を増やす）
5. 在庫切れ商品を表示
6. 在庫の合計金額を表示
7. 終了
選択してください: 1

商品名: りんご
価格: 150
在庫数: 20
登録しました！

1. 商品を登録
2. 全商品を表示
3. 商品を販売（在庫を減らす）
4. 商品を入荷（在庫を増やす）
5. 在庫切れ商品を表示
6. 在庫の合計金額を表示
7. 終了
選択してください: 1

商品名: バナナ
価格: 100
在庫数: 30
登録しました！

1. 商品を登録
2. 全商品を表示
3. 商品を販売（在庫を減らす）
4. 商品を入荷（在庫を増やす）
5. 在庫切れ商品を表示
6. 在庫の合計金額を表示
7. 終了
選択してください: 2

=== 商品一覧 ===
1. りんご - 150円 (在庫: 20個)
2. バナナ - 100円 (在庫: 30個)

1. 商品を登録
2. 全商品を表示
3. 商品を販売（在庫を減らす）
4. 商品を入荷（在庫を増やす）
5. 在庫切れ商品を表示
6. 在庫の合計金額を表示
7. 終了
選択してください: 3

商品番号: 1
販売個数: 5
りんごを5個販売しました。残り在庫: 15個

1. 商品を登録
2. 全商品を表示
3. 商品を販売（在庫を減らす）
4. 商品を入荷（在庫を増やす）
5. 在庫切れ商品を表示
6. 在庫の合計金額を表示
7. 終了
選択してください: 4

商品番号: 2
入荷個数: 10
バナナを10個入荷しました。現在の在庫: 40個

1. 商品を登録
2. 全商品を表示
3. 商品を販売（在庫を減らす）
4. 商品を入荷（在庫を増やす）
5. 在庫切れ商品を表示
6. 在庫の合計金額を表示
7. 終了
選択してください: 6

在庫の合計金額: 6250円

1. 商品を登録
2. 全商品を表示
3. 商品を販売（在庫を減らす）
4. 商品を入荷（在庫を増やす）
5. 在庫切れ商品を表示
6. 在庫の合計金額を表示
7. 終了
選択してください: 7

プログラムを終了します。
```

## ヒント

### 構造体の定義
```c
struct Product {
    char name[50];
    int price;
    int stock;  // 在庫数
};
```

### ポインタを使った関数の例
```c
// 在庫を減らす関数
void sellProduct(struct Product *p, int quantity) {
    if((*p).stock >= quantity) {
        (*p).stock -= quantity;
        printf("%sを%d個販売しました。残り在庫: %d個\n", 
               (*p).name, quantity, (*p).stock);
    } else {
        printf("在庫が足りません！現在の在庫: %d個\n", (*p).stock);
    }
}

// 呼び出し方
sellProduct(&products[0], 5);  // 1番目の商品を5個販売
```

### 重要：ポインタ経由のアクセス方法
```c
struct Product *p = &products[0];

// (*p).メンバ名 の形式で使う
printf("%s\n", (*p).name);   // 商品名
printf("%d\n", (*p).price);  // 価格
(*p).stock = 10;             // 在庫を変更

// 括弧を忘れずに！
// *p.stock は間違い！
// (*p).stock が正しい
```

### 必要な関数（例）
- `void addProduct()` - 商品を登録
- `void showAllProducts()` - 全商品を表示
- `void sellProduct(struct Product *p, int quantity)` - 販売（ポインタ必須）
- `void restockProduct(struct Product *p, int quantity)` - 入荷（ポインタ必須）
- `void showOutOfStock()` - 在庫切れ商品を表示
- `void showTotalValue()` - 合計金額を表示

## 評価ポイント
1. ✅ プログラムが正しく動作する
2. ✅ 構造体を使っている
3. ✅ **ポインタを使っている（必須）**
4. ✅ **(*p).メンバ名 の形式を使っている（必須）**
5. ✅ 関数を使って機能を分けている
6. ✅ エラーチェックをしている（在庫不足など）

## 注意事項
- **sellProduct関数とrestockProduct関数は必ずポインタを使うこと**
- 在庫が足りない場合のエラー処理を忘れずに
- 商品番号は1から始まる（配列のインデックスは0から）
- 10個以上登録できないようにする

## ファイル名
`inventory_management.c` という名前で作成してください。

## チャレンジ
余裕があれば、以下の機能も追加してみてください：
- 商品の検索（名前で検索）
- 商品の削除
- 価格の変更

頑張ってください！ポインタをしっかり使って実装しましょう！
